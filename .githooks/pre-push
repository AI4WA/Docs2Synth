#!/bin/bash
# Pre-push hook to run all quality checks before pushing

set -e

echo "üîç Running code quality checks before push..."
echo ""

echo "1Ô∏è‚É£  Formatting with black..."
black --check . || { echo "‚ùå Black formatting failed. Run 'black .' to fix."; exit 1; }

echo "2Ô∏è‚É£  Sorting imports with isort..."
isort --check-only . || { echo "‚ùå Import sorting failed. Run 'isort .' to fix."; exit 1; }

echo "3Ô∏è‚É£  Linting with flake8..."
flake8 Docs2Synth tests || { echo "‚ùå Flake8 linting failed."; exit 1; }

echo "4Ô∏è‚É£  Type checking with mypy..."
mypy Docs2Synth || { echo "‚ùå Mypy type checking failed."; exit 1; }

echo "5Ô∏è‚É£  Running tests with pytest..."
pytest || { echo "‚ùå Tests failed."; exit 1; }

echo ""
echo "‚úÖ All checks passed! Pushing..."
